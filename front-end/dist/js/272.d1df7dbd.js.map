{"version":3,"file":"js/272.d1df7dbd.js","mappings":"yMAEKA,MAAM,cAAcC,MAAA,I,GACZA,MAAA,iBAAuBD,MAAM,cAAcE,IAAI,e,GAEzCF,MAAM,Y,8DAJrBG,EAAAA,EAAAA,GAAqB,UAAAC,EAAAA,EAAAA,IAAfC,EAAAC,UAAQ,IAClBH,EAAAA,EAAAA,GASM,MATNI,EASM,EAREJ,EAAAA,EAAAA,GAIM,MAJNK,EAIM,gBAHFC,EAAAA,EAAAA,IAE2CC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFLN,EAAAO,WAAVC,K,WAA5BJ,EAAAA,EAAAA,IAE2C,OAFtCT,MAAM,UAAuCc,IAAKD,G,EACnDV,EAAAA,EAAAA,GAA0D,IAA1DY,GAA0DX,EAAAA,EAAAA,IAAnCC,EAAAW,cAAcH,EAAM,GAAII,MAAI,YAAO,KAC1Db,EAAAA,EAAAA,IAAGC,EAAAW,cAAcH,EAAM,GAAIK,KAAG,Q,sBAEtCf,EAAAA,EAAAA,GACsH,SAD/GgB,KAAK,OAAOC,GAAG,eAAeC,YAAY,qBACjDpB,MAAA,0EAA4EqB,UAAOC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAQC,EAAAC,QAAI,Y,qCAAatB,EAAAuB,SAAQH,I,iBAARpB,EAAAuB,aAC5GzB,EAAAA,EAAAA,GAAqF,UAA7EF,MAAA,6CAAmD4B,QAAKN,EAAA,KAAAA,EAAA,OAAAO,IAAEJ,EAAAC,MAAAD,EAAAC,QAAAG,KAAM,WAAI,G,uBAOhF,GACIb,KAAM,WACNc,IAAAA,GACI,MAAO,CACHC,OAAQ,KACRpB,UAAW,EACXI,cAAe,GACfY,SAAU,GACVK,SAAUC,KAAKC,OAAOC,MAAMH,UAAYI,aAAaC,QAAQ,YAC7DhC,SAAU,GAElB,EAEAiC,OAAAA,IACIC,EAAAA,EAAAA,KACIN,KAAKF,OAASA,EAAAA,EACdK,aAAaI,QAAQ,WAAYP,KAAKD,UACtCC,KAAKF,OAAOU,KAAK,WAAY,CAACC,MAAO,WAAYvB,GAAIc,KAAKU,OAAOC,OAAOzB,KACxEc,KAAKF,OAAOU,KAAK,WAAY,CAACC,MAAO,qBAAsBG,OAAQZ,KAAKU,OAAOC,OAAOzB,KACtFc,KAAKF,OAAOe,GAAG,kBAAmBhB,IAC9BG,KAAKtB,UAAYmB,EAAKiB,WAAWC,OACjCf,KAAKlB,cAAgBe,EAAKiB,WAC1Bd,KAAK5B,SAAWyB,EAAKzB,SACrB4B,KAAKgB,WAAU,KACfhB,KAAKiB,MAAM,eAAeC,UAAYlB,KAAKiB,MAAM,eAAeE,YAAY,GAC1E,IAGVnB,KAAKF,OAAOe,GAAG,2BAA4B7B,IACvCgB,KAAKtB,YACLsB,KAAKlB,cAAcsC,KAAKpC,GACxBgB,KAAKgB,WAAU,KACXhB,KAAKiB,MAAM,eAAeC,UAAYlB,KAAKiB,MAAM,eAAeE,YAAY,GAC9E,GAEV,EAEAE,QAAS,CACL5B,IAAAA,GACIO,KAAKF,OAAOU,KAAK,WAAY,CAACC,MAAO,eAAgB1B,KAAMiB,KAAKD,SAAUf,IAAKgB,KAAKN,SAAUkB,OAAQZ,KAAKU,OAAOC,OAAOzB,KACzHc,KAAKtB,YACLsB,KAAKlB,cAAcsC,KAAK,CAACrC,KAAMiB,KAAKD,SAAUf,IAAKgB,KAAKN,WACxDM,KAAKgB,WAAU,KACXhB,KAAKiB,MAAM,eAAeC,UAAYlB,KAAKiB,MAAM,eAAeE,YAAY,IAEhFnB,KAAKN,SAAW,EACpB,I,QCxDZ,MAAM4B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://front-end/./src/components/roomPage.vue","webpack://front-end/./src/components/roomPage.vue?ea65"],"sourcesContent":["<template>\r\n    <p>{{ roomName }}</p>\r\n<div class=\"display_box\" style=\"\">\r\n        <div style=\"height: 32rem;\" class=\"message-box\" ref=\"message-box\">\r\n            <div class=\"message\" v-for=\"number in divNumber\" :key=\"number\"> \r\n                <p class=\"userName\">{{ storedMessage[number-1].name }}</p>\r\n                {{ storedMessage[number-1].msg }}</div>\r\n        </div>\r\n        <input type=\"text\" id=\"messageInput\" placeholder=\"Write a message...\" \r\n        style=\"width: 100%; height: 2rem; border-radius: 0.5rem; margin-top:1rem;\" @keydown.enter=\"send()\" v-model=\"msgInput\">\r\n        <button style=\"position:absolute; bottom: 1%; right: 1%;\" @click=\"send\">Send</button>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {initSocket} from '../socket.js';\r\nimport {socket} from '../socket.js';\r\n    export default {\r\n        name: 'roomPage',\r\n        data() {\r\n            return {\r\n                socket: null,\r\n                divNumber: 0,\r\n                storedMessage: [],\r\n                msgInput: '',\r\n                userName: this.$store.state.userName || localStorage.getItem('userName'),\r\n                roomName: ''\r\n            }\r\n        },\r\n\r\n        created() {\r\n            initSocket();\r\n                this.socket = socket;\r\n                localStorage.setItem('userName', this.userName);\r\n                this.socket.emit('roomData', {event: 'joinRoom', id: this.$route.params.id});\r\n                this.socket.emit('roomData', {event: 'sendRoomMsgHistory', roomId: this.$route.params.id });\r\n                this.socket.on('roomMsgHistory', (data) => {\r\n                    this.divNumber = data.msgHistory.length;\r\n                    this.storedMessage = data.msgHistory;\r\n                    this.roomName = data.roomName;\r\n                    this.$nextTick(() => {\r\n                    this.$refs['message-box'].scrollTop = this.$refs['message-box'].scrollHeight;\r\n                    });\r\n                })   \r\n\r\n            this.socket.on('messageToRoomFromServer', (msg) => {\r\n                this.divNumber++;\r\n                this.storedMessage.push(msg);\r\n                this.$nextTick(() => {\r\n                    this.$refs['message-box'].scrollTop = this.$refs['message-box'].scrollHeight;\r\n                });\r\n            })\r\n        },\r\n\r\n        methods: {\r\n            send() {\r\n                this.socket.emit('roomData', {event: 'messageTyped', name: this.userName, msg: this.msgInput, roomId: this.$route.params.id});\r\n                this.divNumber++;\r\n                this.storedMessage.push({name: this.userName, msg: this.msgInput});\r\n                this.$nextTick(() => {\r\n                    this.$refs['message-box'].scrollTop = this.$refs['message-box'].scrollHeight;\r\n                });\r\n                this.msgInput = '';\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.display_box {\r\n    width: 25rem;\r\n    height: 35rem;\r\n    background-color: tomato;\r\n    margin: 0;\r\n    position: relative;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n    width: 0;\r\n}\r\n\r\n.message-box {\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    gap: 0.5rem;\r\n    overflow-y: scroll;\r\n}\r\n.message{\r\n    max-width:80%;\r\n    overflow-wrap: break-word;\r\n    width: fit-content;\r\n    height: fit-content;\r\n    background-color: coral;\r\n    border-radius: 0.5rem;\r\n    padding: 0.4rem;\r\n}\r\n\r\n.userName {\r\n    margin: 0 0 0.4rem 0;\r\n    font-size: 0.7rem;\r\n    font-weight: bold;\r\n    color: crimson;\r\n}\r\n\r\n</style>","import { render } from \"./roomPage.vue?vue&type=template&id=ba23751a&scoped=true\"\nimport script from \"./roomPage.vue?vue&type=script&lang=js\"\nexport * from \"./roomPage.vue?vue&type=script&lang=js\"\n\nimport \"./roomPage.vue?vue&type=style&index=0&id=ba23751a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ba23751a\"]])\n\nexport default __exports__"],"names":["class","style","ref","_createElementVNode","_toDisplayString","$data","roomName","_hoisted_1","_hoisted_2","_createElementBlock","_Fragment","_renderList","divNumber","number","key","_hoisted_3","storedMessage","name","msg","type","id","placeholder","onKeydown","_cache","_withKeys","$event","$options","send","msgInput","onClick","args","data","socket","userName","this","$store","state","localStorage","getItem","created","initSocket","setItem","emit","event","$route","params","roomId","on","msgHistory","length","$nextTick","$refs","scrollTop","scrollHeight","push","methods","__exports__","render"],"sourceRoot":""}