"use strict";(self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[]).push([[222],{222:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var o=t(3396),i=t(2268),a=t(9242);const n={class:"display_box",style:{}},r={style:{height:"32rem"},class:"message-box",ref:"message-box"},m={class:"userName"};function h(e,s,t,h,l,g){return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.divNumber,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"message",key:e},[(0,o._)("p",m,(0,i.zw)(l.storedMessage[e-1].name),1),(0,o.Uk)(" "+(0,i.zw)(l.storedMessage[e-1].msg),1)])))),128))],512),(0,o.wy)((0,o._)("input",{type:"text",id:"messageInput",placeholder:"Write a message...",style:{width:"100%",height:"2rem","border-radius":"0.5rem","margin-top":"1rem"},onKeydown:s[0]||(s[0]=(0,a.D2)((e=>g.send()),["enter"])),"onUpdate:modelValue":s[1]||(s[1]=e=>l.messageInput=e)},null,544),[[a.nr,l.messageInput]]),(0,o._)("button",{style:{position:"absolute",bottom:"1%",right:"1%"},onClick:s[2]||(s[2]=(...e)=>g.send&&g.send(...e))},"Send")])}t(7658);var l=t(3800),g={name:"Chat_App",data(){return{divNumber:0,messageInput:"",storedMessage:[],socket:null,myUN:this.$store.state.userName||localStorage.getItem("userName"),peopleInChat:0}},methods:{send(){this.socket.emit("dataEmitted",{event:"messageFromClient",name:this.myUN,msg:this.messageInput}),this.divNumber++,this.storedMessage.push({name:this.myUN,msg:this.messageInput}),this.$nextTick((()=>{this.$refs["message-box"].scrollTop=this.$refs["message-box"].scrollHeight})),this.messageInput=""}},created(){(0,l.m)(),this.socket=l.W,console.log(this.socket),this.socket.on("msgHistory",(e=>{this.divNumber=e.length,console.log(this.divNumber),this.storedMessage.push(...e),this.$nextTick((()=>{this.$refs["message-box"].scrollTop=this.$refs["message-box"].scrollHeight}))})),this.socket.on("JoinedPeople",(e=>{this.peopleInChat=e,console.log(this.peopleInChat)})),this.socket.on("myUserName",(e=>{this.myUN=e,console.log(this.myUN)})),this.socket.on("messageFromServer",(e=>{this.divNumber++,this.storedMessage.push({name:e.name,msg:e.msg}),this.$nextTick((()=>{this.$refs["message-box"].scrollTop=this.$refs["message-box"].scrollHeight}))}))}},d=t(89);const c=(0,d.Z)(g,[["render",h],["__scopeId","data-v-25c56474"]]);var u=c}}]);
//# sourceMappingURL=222.4e14019f.js.map